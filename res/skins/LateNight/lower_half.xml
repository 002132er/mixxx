<Template>
    <!-- Use different layout characteristics depending on if the library
    is hidden or shown. -->
    <WidgetStack>
        <Children>
            <SizeAwareStack currentpage="[Master],lower_half_size" persist="true">
                <Children>
                    <WidgetGroup>
                        <ObjectName>UILowerHalf</ObjectName>
                        <Layout>vertical</Layout>
                        <SizePolicy>min,i</SizePolicy>
                        <MinimumSize>0,0</MinimumSize>
                        <MaximumSize>1920,249</MaximumSize>
                        <Children>
                            <Template src="skin:fx_samplers_container_small.xml"/>
                            <Template src="skin:toolbar_small.xml"/>
                        </Children>
                    </WidgetGroup>
                    <WidgetGroup>
                        <ObjectName>UILowerHalf</ObjectName>
                        <Layout>vertical</Layout>
                        <SizePolicy>min,i</SizePolicy>
                        <MinimumSize>0,250</MinimumSize>
                        <Children>
                            <Template src="skin:fx_samplers_container_full.xml"/>
                            <WidgetGroup>
                                <Layout>horizontal</Layout>
                                <SizePolicy>me,me</SizePolicy>
                                <Children/>
                            </WidgetGroup>
                            <Template src="skin:toolbar_full.xml"/>
                        </Children>
                    </WidgetGroup>
                </Children>
            </SizeAwareStack>
            
            <!-- Library is on -->
            <SizeAwareStack trigger="[Library],show_library" currentpage="[Master],lower_half_size" persist="true">
                <Children>
                    <WidgetGroup>
                        <ObjectName>UILowerHalf</ObjectName>
                        <Layout>vertical</Layout>
                        <SizePolicy>min,i</SizePolicy>
                        <MinimumSize>0,0</MinimumSize>
                        <MaximumSize>1920,249</MaximumSize>
                        <Children>
                            <Template src="skin:fx_samplers_container_small.xml"/>
                            <Template src="skin:toolbar_small.xml"/>
                        </Children>
                    </WidgetGroup>
                    <WidgetGroup>
                        <ObjectName>UILowerHalf</ObjectName>
                        <Layout>vertical</Layout>
                        <SizePolicy>min,i</SizePolicy>
                        <MinimumSize>0,250</MinimumSize>
                        <MaximumSize>1920,419</MaximumSize>
                        <Children>
                            <Template src="skin:fx_samplers_container_med.xml"/>
                            <WidgetGroup>
                                <Layout>horizontal</Layout>
                                <Children>
                                    <SingletonContainer>
                                        <ObjectName>LibrarySingleton</ObjectName>
                                    </SingletonContainer>
                                </Children>
                                <Connection>
                                  <ConfigKey>[Library],show_library</ConfigKey>
                                  <BindProperty>visible</BindProperty>
                                </Connection>
                            </WidgetGroup>
                            <Template src="skin:toolbar_med.xml"/>
                        </Children>
                    </WidgetGroup>
                    <WidgetGroup>
                        <ObjectName>UILowerHalf</ObjectName>
                        <Layout>vertical</Layout>
                        <SizePolicy>min,i</SizePolicy>
                        <MinimumSize>0,420</MinimumSize>
                        <Children>
                            <Template src="skin:fx_samplers_container_full.xml"/>
                            <Template src="skin:fx_samplers_container_med.xml"/>
                            <WidgetGroup>
                                <Layout>horizontal</Layout>
                                <Children>
                                    <SingletonContainer>
                                        <ObjectName>LibrarySingleton</ObjectName>
                                    </SingletonContainer>
                                </Children>
                                <Connection>
                                  <ConfigKey>[Library],show_library</ConfigKey>
                                  <BindProperty>visible</BindProperty>
                                </Connection>
                            </WidgetGroup>
                            <Template src="skin:toolbar_full.xml"/>
                        </Children>
                    </WidgetGroup>
                </Children>
            </SizeAwareStack>
        </Children>
    </WidgetStack>
</Template>