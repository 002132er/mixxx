<!--
Description:
  Size-aware container that switches between 'netbook_mode' and 'normal_mode'.
  In 'netbook_mode' skin controls are moved from center block to top row,
  so that all spacers between left and right decks and between FX units are removed.
  Waveforms can be much smaller. Though, they will grow to min 50px when beatgrid
  buttons are shown.
  Modes are flipping as soon as FX units have enough space to host effects
  with 6 parameters (knobs plus buttons)

Controls:
  [Tango],netbook_normal_stack0
    This is set to '0' in skin.xml so that 'netbook_mode' is triggered
    for widths up to 1259px.
  [Tango],netbook_normal_stack1
    This is set to '1' in skin.xml so that 'normal_mode' is triggered
    for widths from 1260px up.

-->
<Template>
  <WidgetGroup>
    <Layout>horizontal</Layout>
    <Children>
      <SizeAwareStack><!-- Netbook trigger -->
        <Children>

          <WidgetStack><!-- 0  show skin controls at top edge of window -->
            <SizePolicy>me,max</SizePolicy>
            <MinimumSize>1,2</MinimumSize>
            <MaximumSize>1259,2</MaximumSize>
            <Children>
              <WidgetGroup trigger="[Tango],netbook_mode">
                <Size>2f,2f</Size>
                <Children/>
              </WidgetGroup>
              <WidgetGroup trigger="[Tango],normal_mode">
                <Size>2f,2f</Size>
                <Children/>
              </WidgetGroup>
            </Children>
          </WidgetStack>

          <WidgetStack><!-- 1  show skin controls in the center between decks -->
            <SizePolicy>me,me</SizePolicy>
            <MinimumSize>1260,2</MinimumSize>
            <Children>
              <WidgetGroup trigger="[Tango],normal_mode">
                <Size>2f,2f</Size>
                <Children/>
              </WidgetGroup>
              <WidgetGroup trigger="[Tango],netbook_mode">
                <Size>2f,2f</Size>
                <Children/>
              </WidgetGroup>
            </Children>
          </WidgetStack>
        </Children>
      </SizeAwareStack><!-- /Netbook trigger -->
      
      <WidgetGroup><!-- Spacer to enforce netbook mode -->
        <ObjectName>EnforceNetbookMode</ObjectName>
        <Size>10000f,1f</Size>
        <Children/>
        <Connection>
          <ConfigKey persist="true">[Tango],enforce_netbook_mode</ConfigKey>
          <BindProperty>visible</BindProperty>
        </Connection>
      </WidgetGroup>
    </Children>
  </WidgetGroup>
</Template>
