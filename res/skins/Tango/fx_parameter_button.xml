<!--
Description:
	An effect parameter button.
	Stacked layout of invisible button, parameter name
	and button display underneath.
Variables:
	EffectRack: the rack
	EffectUnit: the unit
	Effect: the effect
	EffectButtonParameter: the parameter
	
-->
<Template>

	<WidgetGroup>
		<Layout>stacked</Layout>
		<ObjectName>EffectParameterButton</ObjectName>
		<!-- working around AlignVCenter of fx_parameter_row...
			Available height is 38px, button is 18px & we want it
			in the same height as the knobs -->
		<Size>52f,26f</Size>
		<Children>
			<Template src="skin:button_2state.xml">
				<SetVariable name="ObjectName">EffectParameterButtonOverlay</SetVariable>
				<SetVariable name="Size">51f,18f</SetVariable>
				<SetVariable name="ConfigKey">[EffectRack<Variable name="EffectRack"/>_EffectUnit<Variable name="EffectUnit"/>_Effect<Variable name="Effect"/>],button_parameter<Variable name="EffectButtonParameter"/></SetVariable>
			</Template>
			
			<EffectButtonParameterName><!-- Label -->
				<Size>51f,18f</Size>
				<ObjectName>EffectParameterButtonName</ObjectName>
				<EffectRack><Variable name="EffectRack"/></EffectRack>
				<EffectUnit><Variable name="EffectUnit"/></EffectUnit>
				<Effect><Variable name="Effect"/></Effect>
				<EffectButtonParameter><Variable name="EffectButtonParameter"/></EffectButtonParameter>
				<Alignment>center</Alignment>
			</EffectButtonParameterName>
			
			<Template src="skin:button_2state.xml">
				<SetVariable name="ObjectName">EffectParameterButtonUnderlay</SetVariable>
				<SetVariable name="Size">51f,18f</SetVariable>
				<SetVariable name="ConfigKey">[EffectRack<Variable name="EffectRack"/>_EffectUnit<Variable name="EffectUnit"/>_Effect<Variable name="Effect"/>],button_parameter<Variable name="EffectButtonParameter"/></SetVariable>
			</Template>
		</Children>
		<!-- show only if button parameter is loaded -->
		<Connection>
			<ConfigKey>[EffectRack<Variable name="EffectRack"/>_EffectUnit<Variable name="EffectUnit"/>_Effect<Variable name="Effect"/>],button_parameter<Variable name="EffectButtonParameter"/>_loaded</ConfigKey>
			<BindProperty>visible</BindProperty>
		</Connection>
	</WidgetGroup>
</Template>
